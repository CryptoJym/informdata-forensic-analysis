<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InformData API Transformation - Interactive Animations</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .player-container {
            max-width: 1280px;
            margin: 0 auto;
            background: #0a0a0a;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .animation-tabs {
            display: flex;
            background: #1e293b;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: #3b82f6 #1e293b;
        }
        
        .animation-tabs::-webkit-scrollbar {
            height: 8px;
        }
        
        .animation-tabs::-webkit-scrollbar-track {
            background: #1e293b;
        }
        
        .animation-tabs::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }
        
        .tab-button {
            flex-shrink: 0;
            padding: 15px 25px;
            background: none;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        
        .tab-button:hover {
            color: #e2e8f0;
            background: rgba(59, 130, 246, 0.1);
        }
        
        .tab-button.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
        
        #remotion-player {
            width: 100%;
            height: 720px;
            position: relative;
            background: #000;
        }
        
        .animation-info {
            background: #1e293b;
            padding: 30px;
            border-top: 1px solid #334155;
        }
        
        .animation-info h3 {
            color: #3b82f6;
            margin: 0 0 15px 0;
            font-size: 24px;
        }
        
        .animation-info p {
            color: #94a3b8;
            line-height: 1.6;
            margin: 0;
        }
        
        .export-section {
            background: #1e293b;
            padding: 20px 30px;
            border-top: 1px solid #334155;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .export-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .export-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }
        
        .feature-highlights {
            background: #1e293b;
            padding: 30px;
            margin: 30px 0;
            border-radius: 12px;
            border: 1px solid #334155;
        }
        
        .feature-highlights h3 {
            color: #3b82f6;
            margin: 0 0 20px 0;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .feature-icon {
            width: 24px;
            height: 24px;
            background: #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            flex-shrink: 0;
        }
        
        .feature-text {
            color: #94a3b8;
            line-height: 1.4;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <nav class="main-nav">
        <div class="nav-container">
            <h1>InformData API Forensic Analysis</h1>
            <ul>
                <li><a href="index.html">Overview</a></li>
                <li><a href="verified-analysis.html">Verified Evidence</a></li>
                <li><a href="prd-implementation-flow.html">PRD Implementation</a></li>
                <li><a href="remotion-player.html" class="active">Interactive Animations</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <section class="hero">
            <h1>Interactive Transformation Visualizations</h1>
            <p class="subtitle">Powered by Remotion - Real-time rendered animations showing the complete system transformation</p>
        </section>

        <div class="player-container">
            <div class="animation-tabs">
                <button class="tab-button active" onclick="loadAnimation('RepositoryTransformation')">
                    Repository Transformation
                </button>
                <button class="tab-button" onclick="loadAnimation('APIFlowComparison')">
                    API Flow Comparison
                </button>
                <button class="tab-button" onclick="loadAnimation('FieldNaming')">
                    Field Naming Issues
                </button>
                <button class="tab-button" onclick="loadAnimation('ProductStructure')">
                    Product Structure
                </button>
                <button class="tab-button" onclick="loadAnimation('VerificationPattern')">
                    Verification Pattern
                </button>
                <button class="tab-button" onclick="loadAnimation('BusinessImpact')">
                    Business Impact
                </button>
            </div>
            
            <div id="remotion-player">
                <!-- Remotion Player will be embedded here -->
                <iframe 
                    id="player-frame"
                    src="https://www.remotion.dev/embed?composition=RepositoryTransformation&fps=30&durationInFrames=210"
                    allowfullscreen
                ></iframe>
            </div>
            
            <div class="animation-info" id="animation-info">
                <h3>Repository Transformation Flow</h3>
                <p>This animation demonstrates how implementing the correct PRDs will transform each repository from its current incorrect state to a fully compliant implementation. Watch as the system evolves from 60% failure rate to 100% success.</p>
            </div>
            
            <div class="export-section">
                <button class="export-btn" onclick="openInStudio()">
                    <span>ðŸŽ¬</span> Open in Remotion Studio
                </button>
                <button class="export-btn" onclick="exportAsMP4()">
                    <span>ðŸ’¾</span> Export as MP4
                </button>
                <button class="export-btn" onclick="shareAnimation()">
                    <span>ðŸ”—</span> Share Animation
                </button>
            </div>
        </div>

        <div class="feature-highlights">
            <h3>Animation Features</h3>
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-icon">âœ¨</div>
                    <div class="feature-text">Real-time rendering with smooth 30fps playback</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">ðŸŽ¯</div>
                    <div class="feature-text">Precise timing showing each transformation phase</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">ðŸ“Š</div>
                    <div class="feature-text">Data-driven animations reflecting actual metrics</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">ðŸŽ¨</div>
                    <div class="feature-text">Professional design with spring physics</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">ðŸ“±</div>
                    <div class="feature-text">Responsive design works on all devices</div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">ðŸš€</div>
                    <div class="feature-text">Exportable for presentations and documentation</div>
                </div>
            </div>
        </div>

        <section id="technical-implementation">
            <h2>Technical Implementation</h2>
            
            <div class="animation-description">
                <h3>How These Animations Work</h3>
                <p>Each animation is built using React components and Remotion's powerful animation framework:</p>
                <ul>
                    <li><strong>Spring Physics:</strong> Natural motion using spring animations for smooth transitions</li>
                    <li><strong>Programmatic Generation:</strong> Every frame is calculated in real-time based on data</li>
                    <li><strong>Type Safety:</strong> Built with TypeScript for reliability and maintainability</li>
                    <li><strong>Performance Optimized:</strong> Efficient rendering at 30fps with minimal overhead</li>
                </ul>
            </div>
        </section>
    </div>

    <script>
        const animations = {
            'RepositoryTransformation': {
                title: 'Repository Transformation Flow',
                description: 'This animation demonstrates how implementing the correct PRDs will transform each repository from its current incorrect state to a fully compliant implementation. Watch as the system evolves from 60% failure rate to 100% success.',
                duration: 210
            },
            'APIFlowComparison': {
                title: 'API Flow Comparison',
                description: 'Side-by-side comparison showing the critical differences between the current broken implementation and the correct flow. Highlights JWT authentication, proper field naming, and successful API responses.',
                duration: 200
            },
            'FieldNaming': {
                title: 'Field Naming Convention Issues',
                description: 'Visual demonstration of the field naming discrepancies causing 100% API failure. Shows the transformation from incorrect camelCase/snake_case to the required PascalCase format.',
                duration: 180
            },
            'ProductStructure': {
                title: 'Product-Specific Structure Requirements',
                description: 'Illustrates why generic handlers fail and how each product type (Criminal, Employment, Education) requires its own specific field structure for successful API integration.',
                duration: 180
            },
            'VerificationPattern': {
                title: 'Verification Triple Field Pattern',
                description: 'Demonstrates the critical pattern where each verification field must be returned as three separate fields: base value, verified status, and discovered value.',
                duration: 180
            },
            'BusinessImpact': {
                title: 'Business Impact Analysis',
                description: 'Quantifies the transformation impact: from 500+ failed orders daily to near-zero failures, elimination of manual intervention, and projected ROI timeline.',
                duration: 180
            }
        };

        let currentAnimation = 'RepositoryTransformation';

        function loadAnimation(animationId) {
            currentAnimation = animationId;
            const animation = animations[animationId];
            
            // Update active tab
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update player - using local development URL
            const playerFrame = document.getElementById('player-frame');
            playerFrame.src = `http://localhost:3000/?composition=${animationId}`;
            
            // Update info
            const infoDiv = document.getElementById('animation-info');
            infoDiv.innerHTML = `
                <h3>${animation.title}</h3>
                <p>${animation.description}</p>
            `;
        }

        function openInStudio() {
            // Open Remotion Studio
            window.open(`http://localhost:3000/?composition=${currentAnimation}`, '_blank');
        }

        function exportAsMP4() {
            // Provide export command
            const command = `npx remotion render src/index.tsx ${currentAnimation} ${currentAnimation}.mp4 --codec h264`;
            alert(`To export this animation as MP4, run:\n\n${command}\n\nThis will create a high-quality video file you can use in presentations.`);
        }

        function shareAnimation() {
            // Create shareable link
            const url = `${window.location.origin}/remotion-player.html?animation=${currentAnimation}`;
            navigator.clipboard.writeText(url);
            alert('Animation link copied to clipboard!');
        }

        // Load animation from URL parameter if present
        window.addEventListener('load', () => {
            const params = new URLSearchParams(window.location.search);
            const animation = params.get('animation');
            if (animation && animations[animation]) {
                const button = Array.from(document.querySelectorAll('.tab-button'))
                    .find(btn => btn.textContent.trim() === animations[animation].title.split(' ').slice(0, 2).join(' '));
                if (button) {
                    button.click();
                }
            }
        });
    </script>
</body>
</html>